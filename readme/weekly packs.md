# Weekly Pack Downloads

We currently use getcomics.py to download single files based on user subscriptions in the Pull List or on a one-off basis when they search via a modal in the app.

On getcomics.org there is a section on the homepage .cover-blog-posts
withing that section there are links to weekly packs
<h2 class="post-title"><a href="https://getcomics.org/other-comics/2026-01-14-weekly-pack/">2026.01.14 Weekly Pack</a></h2>



The post is available before the weekly packs are released. The page will have something similar to this before the links are posted: All in one download link will be updated once all the files is complete.

Once the weekly packs are available, they are added to the post in this format

<h3><span style="color: #3366ff;">JPG</span></h3>
<ul><li>2026.01.14 DC Week (489 MB) :<br><strong><a href="https://1024terabox.com/s/14awt-h4B9whBUx_FJP44nA" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/BHXge" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/9gUfX11joq" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/MF9plox/AAc30XSFoVzRdlKyT5VXhkM7gyyM60QX5uDW5BnZSFxilWEEitkZxOKI:hurNHxPnwySNGIAOqIpYtw==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/Y/dL8OnAfnSrvxZcXjighewmHvSnvKJIlV/Kz+JwkaRrEgplUG8MnDSF0lJO5GAEGZ78Ur3JS+v4zanIUPMbu2Xa6EY4n3ki7NY/GNA8fE8=:mSEI186MUCHiYwlx6BLFwA==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li><li>2026.01.14 Marvel Week (908 MB) :<br><strong><a href="https://1024terabox.com/s/1x-K57AG-b0VfpN55g4fGlA" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/FJOYC" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/Z2ctK4vAZ7" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/i/kFnfXjCJPVicT3beksytJYFdp7lKA48nZ50XN4RTPUkm9BkvtR/ztrPGrlc/5B:TCsKngxw0BU6yIwHIW+0Zw==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/Uv7oQeT9LuZB1AvNq9krHZjmmMyRbx9Zr+euW3e0k5YPufk+vUwkCQ9agTWEAGB3EMucs0breO2c9p4vrqWEfTP+6GvM49GVE480mvDVtts=:D1t0cnWt+DRKX3EUKD5Pfw==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li><li>2026.01.14 Image Week (1.0 GB) :<br><strong><a href="https://1024terabox.com/s/19m5YGSrCPpdB-aGR6YbdZQ" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/1cCEKG" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/pEuRNYqOKq" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/BKUwpsZhC8xx1sfswb0ZyQLozr5sn+ngQ/oUJ5L8hijxMjQPPP/VANGLL3fv971p:rYGQNcftqCce6WSlnynROw==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/5DmVyycsU+iWdGjNekOp4H12nBMY4ziFL7utk2Lbk1WtoyYoCKYqbWPDyE0vN2L1vlTvURX2y2E3eQhWDeuThApCP42CyFO6Y6/R/TDKzNI=:TCdsgd9z22mv538kBa8DuQ==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li><li>2026.01.14 INDIE Week (2.4 GB) :<br><strong><a href="https://1024terabox.com/s/1LMs63SngpUKdwemOQz_Gyw" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/PVzd2" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/IhsMtU4U68" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/XGlX27L4DrmxjVIumXvJrubxQs5Moht5Wes0jwscfuP/zDDu3/HHXmLdIT+Yfogn:RuVrBN4XLRstx8fa8pcpYw==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/3+4X4um1anyMUo+aHXvBfyvOlsX8AAo8antqWkGXTG0yQ34ZHiR1efFutZ1A6t9b6Poxxa0aykH7fxNMM5mnBsHxWK7fdAceVjGO2WNN32U=:hPYBl+erhOD90Mo8BEFd4A==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li></ul>

<h3><span style="color: #3366ff;">WEBP</span></h3>
<ul><li>2026.01.14 DC Week (WebP) (147 MB) :<br><strong><a href="https://1024terabox.com/s/1TCMNfnKJqvaPrrEloOX2aw" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/17qMzo" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/pU9v5WMjEd" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/VoII5oJ8CW0Yk9+vcjjXFreexa4mAld9AVlgVqloH9FChBxq+p2fSiXeKpu4PjNN:6Y2f31d4BDEl0R6uAkwDnA==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/pzX11VSMYtsICQTkKN2TOlO1nxF2Z56d4fBUk6+Uvcl3L0vjwnYDpdaCNVMJFDcMlKLUWTcuWUH8PvS9wXkB9W9W7ovCT5kzmgdXjqkK214=:wC247s4BnB+BIfBkvGGI5Q==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li><li>2026.01.14 Marvel Week (WebP) (251 MB) :<br><strong><a href="https://1024terabox.com/s/1gjM_Pkq03lWkcsCQ3csvMg" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/2KWblA" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/aB5sx3aD2n" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/GNyy/3+kzh1y9xc9Rux8NFBOg3Tz6gzlQrOsWM4YGEWU/CLh+RCAEYjqfkodW6K5:b5+nS/67DlyuY31It/bmzw==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/vtyIJLqd7Seb0bgI41iKu1hhXzqkuDMygpJgsNHfM6qfbMfbdPfpVBrlzhqcbdNV9zBqHFhMsirBC/Olcl3/UyxTheINpLblCL0GV2ySTqc=:ORZY5Yk91ukq4eDDWvNxFw==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li><li>2026.01.14 Image Week (WebP) (227 MB) :<br><strong><a href="https://1024terabox.com/s/14Nncd_UzDupY5UsqJ0VsAw" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/3DpxY" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/w7CMPOCIrz" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/7W4ebkPGAkOAVBl+/jaiRBT7TOVlvudFXr0uKcRmrLvqxu122LsW0oaqmfablw3N:D2TAkHIT9FVTMb+mnIVaQg==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/PdtZRSPlmlcqcCBFTeo/dEUHnc2znLZBDWoSPziE1+5LCeIECgKHli4MDbDD7Py+jRoLkhp1HLzBnb4GYwXKYGzq5ho5mgTH2Am+8Z0nUgc=:vR1KlxPBVNmaD1cc+QuoqQ==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li><li>2026.01.14 INDIE Week (WebP) (712 MB) :<br><strong><a href="https://1024terabox.com/s/1xYzJ8WUcxoBM5B9SUhf1dg" target="_blank&quot;"><span style="color: #3366ff;">TERABOX</span></a> | <a href="https://www.rootz.so/d/1NxmS0" target="_blank&quot;"> <span style="color: #008000;">ROOTZ</span></a> | <a href="https://vikingfile.com/f/xc32vN9dAW" target="_blank&quot;"> <span style="color: #800077;">VIKINGFILE</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/OhClmMAnJnv5wQjd/VqwVi/48CZk8tsLln9SCm5DtWV1mB7jpuJgD80kWuYhyXqm:bkJ1GsRrgtdXzwmOYy6SFw==" target="_blank&quot;"><span style="color: #808080;">PIXELDRAIN</span></a> | <a rel="nofollow" href="https://getcomics.org/dlds/BdgQ5bBjkv/rHEFaPVREsu2ei6ZpRRqTaDdjUBnd+82c6YXrFQ6GETBZrTkVjQvJsUlktqQ2OqvEqEuaEMTlucUc5gEeTyCcCV5KfB/3yuM=:wFaSuG+S6BbLOVyXVhvwTQ==" target="_blank&quot;"> <span style="color: #ff9900;">MEGA</span></a>&nbsp;</strong></li></ul>

Let's add a new section under the "Pull List" menu for "Weekly Packs"
from this page, users can enable automated downloads of the weekly packs they want once they are available

Users should be able to choose the format they want to download the weekly packs in. These correspond to the two sections with <h3> on the page
1. JPG
2. Webp

Users should be able to select the packs they want to download as well
1. DC
2. Marvel
3. Image
4. INDIE

Once these preferences are set and saved - most like in a new DB table - we should schedule a weekly check for these packs to see if they are available.  

Currently, we will support the PIXELDRAIN links and send them to the download manager via the api.py - this functionality is already in place

If a user has enabled the weekly packs, we should also ensure that #getcomicsFrequency is set to disabled on config.html
This would prevent issues froms being auto-downloaded when the weekly packs are enabled
Users should still be able to search for one-off issues on the series.html page

Weekly packs can be found via search
https://getcomics.org/?s=weekly+pack

They will generally be dated for a Wedensday date, but this could shift for holidays.

------------------------

╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌
 Weekly Packs Feature - Implementation Plan

 Overview

 Add a "Weekly Packs" feature to automate downloading of weekly comic packs from getcomics.org. Users can configure
 their preferred format (JPG/WEBP) and publishers (DC, Marvel, Image, INDIE), with scheduled weekly checks and daily
 retries if links aren't ready.

 ---
 Files to Modify/Create
 ┌─────────────────────────────┬────────┬────────────────────────────────────────────────────┐
 │            File             │ Action │                      Purpose                       │
 ├─────────────────────────────┼────────┼────────────────────────────────────────────────────┤
 │ database.py                 │ Modify │ Add weekly_packs_config table and helper functions │
 ├─────────────────────────────┼────────┼────────────────────────────────────────────────────┤
 │ models/getcomics.py         │ Modify │ Add weekly pack parsing functions                  │
 ├─────────────────────────────┼────────┼────────────────────────────────────────────────────┤
 │ app.py                      │ Modify │ Add scheduler, routes, and API endpoints           │
 ├─────────────────────────────┼────────┼────────────────────────────────────────────────────┤
 │ templates/weekly_packs.html │ Create │ New configuration page                             │
 ├─────────────────────────────┼────────┼────────────────────────────────────────────────────┤
 │ templates/header.html       │ Modify │ Add menu item to Pull List dropdown                │
 ├─────────────────────────────┼────────┼────────────────────────────────────────────────────┤
 │ templates/config.html       │ Modify │ Add warning when weekly packs enabled              │
 └─────────────────────────────┴────────┴────────────────────────────────────────────────────┘
 ---
 Phase 1: Database Layer

 Add to database.py (after line 183, following getcomics_schedule pattern)

 New table: weekly_packs_config
 CREATE TABLE IF NOT EXISTS weekly_packs_config (
     id INTEGER PRIMARY KEY CHECK (id = 1),
     enabled INTEGER DEFAULT 0,
     format TEXT NOT NULL DEFAULT 'JPG',
     publishers TEXT NOT NULL DEFAULT '[]',
     weekday INTEGER DEFAULT 2,
     time TEXT NOT NULL DEFAULT '10:00',
     retry_enabled INTEGER DEFAULT 1,
     last_run TIMESTAMP,
     last_successful_pack TEXT,
     updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
 )

 New table: weekly_packs_history
 CREATE TABLE IF NOT EXISTS weekly_packs_history (
     id INTEGER PRIMARY KEY AUTOINCREMENT,
     pack_date TEXT NOT NULL,
     publisher TEXT NOT NULL,
     format TEXT NOT NULL,
     download_url TEXT,
     status TEXT DEFAULT 'queued',
     downloaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
     UNIQUE(pack_date, publisher, format)
 )

 New functions (add after line ~1705):
 - get_weekly_packs_config() - Returns config dict
 - save_weekly_packs_config(enabled, format, publishers, weekday, time, retry_enabled) - Saves config
 - update_last_weekly_packs_run(pack_date=None) - Updates last_run and last_successful_pack
 - log_weekly_pack_download(pack_date, publisher, format, download_url, status) - Records download
 - get_weekly_packs_history(limit=20) - Returns recent history

 ---
 Phase 2: GetComics Parser Functions

 Add to models/getcomics.py (after score_getcomics_result around line 200)

 1. find_latest_weekly_pack_url()
 - Fetch getcomics.org homepage
 - Find .cover-blog-posts section
 - Extract URL/date from <h2 class="post-title"> links containing "Weekly Pack"
 - Return (pack_url, pack_date) tuple

 2. parse_weekly_pack_page(pack_url, format_preference, publishers)
 - Fetch pack page
 - Find <h3> containing format (JPG or WEBP)
 - Parse <ul><li> items under matching <h3>
 - For each publisher in list, extract PIXELDRAIN link
 - Return {publisher: pixeldrain_url} dict
 - Return empty dict if links not ready

 3. check_weekly_pack_availability(pack_url)
 - Quick check for presence of download links
 - Returns False if "will be updated once all the files is complete" message found

 ---
 Phase 3: Scheduler and Core Logic

 Add to app.py

 A. New scheduler (around line 245):
 weekly_packs_scheduler = BackgroundScheduler(daemon=True)
 weekly_packs_scheduler.start()

 B. scheduled_weekly_packs_download() function (after line 775):
 1. Get config from database
 2. Call find_latest_weekly_pack_url() to get latest pack
 3. Check against last_successful_pack to avoid re-downloading
 4. Check availability with check_weekly_pack_availability()
 5. If not ready and retry_enabled, schedule one-time retry job for next day
 6. If ready, call parse_weekly_pack_page() with user preferences
 7. For each publisher URL found, queue download via download_queue.put()
 8. Update last_run and last_successful_pack
 9. Log to weekly_packs_history

 C. configure_weekly_packs_schedule() function (after line 829):
 - Read config from database
 - Configure CronTrigger based on weekday/time
 - When enabled, also set getcomics_schedule frequency to 'disabled'

 D. Startup call (around line 11234):
 configure_weekly_packs_schedule()

 ---
 Phase 4: API Endpoints

 Add to app.py (near line 3620)
 ┌───────────────────────────────┬────────┬─────────────────────────────────────────────────────────────────────┐
 │           Endpoint            │ Method │                               Purpose                               │
 ├───────────────────────────────┼────────┼─────────────────────────────────────────────────────────────────────┤
 │ /api/get-weekly-packs-config  │ GET    │ Returns config and next scheduled run                               │
 ├───────────────────────────────┼────────┼─────────────────────────────────────────────────────────────────────┤
 │ /api/save-weekly-packs-config │ POST   │ Saves config, reconfigures scheduler, disables getcomics if enabled │
 ├───────────────────────────────┼────────┼─────────────────────────────────────────────────────────────────────┤
 │ /api/run-weekly-packs-now     │ POST   │ Manually triggers download check                                    │
 ├───────────────────────────────┼────────┼─────────────────────────────────────────────────────────────────────┤
 │ /api/weekly-packs-history     │ GET    │ Returns recent download history                                     │
 └───────────────────────────────┴────────┴─────────────────────────────────────────────────────────────────────┘
 ---
 Phase 5: UI Templates

 A. Create templates/weekly_packs.html

 Page structure:
 1. Header - "Weekly Packs" title with description
 2. Configuration Card
   - Enable/disable toggle
   - Format selection (JPG/WEBP radio buttons)
   - Publisher checkboxes (DC, Marvel, Image, INDIE)
   - Schedule settings (weekday dropdown, time input)
   - Retry toggle
   - Save and "Check Now" buttons
   - Status display (last run, next run)
 3. History Card - Table showing recent downloads

 B. Modify templates/header.html (line 82)

 Add new menu item to Pull List dropdown:
 <li>
   <a href="{{ url_for('weekly_packs') }}"
     class="dropdown-item {% if current_page == url_for('weekly_packs') %}active{% endif %}">
     <i class="bi bi-calendar2-week me-2"></i>Weekly Packs
   </a>
 </li>

 Also update line 48 to include url_for('weekly_packs') in the active check list.

 C. Modify templates/config.html

 Add warning banner in GetComics section (around line 717):
 <div id="weeklyPacksWarning" class="alert alert-info d-none mb-3">
     <i class="bi bi-info-circle me-2"></i>
     <strong>Weekly Packs Enabled:</strong> Individual issue auto-download is disabled.
     <a href="{{ url_for('weekly_packs') }}">Manage Weekly Packs</a>
 </div>

 Add JavaScript to:
 - Check weekly packs status on page load
 - Show warning and disable #getcomicsFrequency when weekly packs enabled

 ---
 Phase 6: Page Route

 Add to app.py (near line 1242)

 @app.route('/weekly-packs')
 def weekly_packs():
     from database import get_weekly_packs_config, get_weekly_packs_history
     config = get_weekly_packs_config()
     history = get_weekly_packs_history(limit=20)
     return render_template('weekly_packs.html', config=config, history=history)

 ---
 Key Implementation Notes

 1. Download handling: Files go to existing download queue, land in WATCH folder
 2. Unpacking: Relies on existing AUTO_UNPACK config for ZIP extraction
 3. Mutual exclusivity: When weekly packs enabled, auto-disable getcomics individual downloads
 4. Retry logic: If links not ready, add one-time CronTrigger for next day at same time
 5. Duplicate prevention: Track last_successful_pack date to avoid re-downloading

 ---
 Verification

 1. Database: Run app, check weekly_packs_config table created
 2. UI Navigation: Verify Weekly Packs menu item appears under Pull List (requires Metron)
 3. Configuration: Save settings, verify persisted in database
 4. Parser: Test find_latest_weekly_pack_url() against live homepage
 5. Manual trigger: Use "Check Now" button, verify correct packs queued
 6. Scheduler: Set schedule, verify job created with correct timing
 7. Config interaction: Enable weekly packs, verify getcomics schedule shows disabled
 8. End-to-end: Let scheduled job run, verify downloads complete and unpack