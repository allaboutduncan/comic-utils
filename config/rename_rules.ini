[RENAME]
# Higher priority number runs earlier in YOUR setup

# 115) "Series # ### (YYYY)" → Series # 0### (YYYY) (where # is part of series name, NOT volume)
rule115.pattern = ^(?P<series>.*\s+\d+)(?!\s+v\d)\s+(?P<issue>\d{1,4})\s*\((?P<year>\d{4})\)(?:\s*\([^)]*\))*(?P<ext>\.\w+)?$
rule115.output  = {series} {issue|pad3} ({year}){ext}
rule115.priority= 115

# 110) "Series International/Annual v# ### (YYYY)" → Keep full name as-is
rule110.pattern = ^(?P<series>.*?(?:International|Annual).*?)\s+(?P<volume>v\d+\s+)?(?P<special>Annual\s+)?(?P<issue>\d{1,4})\s*\((?P<year>\d{4})\)(?:\s*\([^)]*\))*(?P<ext>\.\w+)?$
rule110.output  = {series} {volume}{special}{issue|pad3} ({year}){ext}
rule110.priority= 110

# 105) "Series (YYYY-MM) ### (...)" → Series 0### (YYYY) - but NOT for International/Annual/etc
rule105.pattern = ^(?P<series>(?!.*(?:International|Annual|v\d)).*?)\s*\((?P<year>\d{4})-\d{2}\)\s+(?P<issue>\d{1,4})(?:\s*\([^)]*\))*(?P<ext>\.\w+)?$
rule105.output  = {series} {issue|pad3} ({year}){ext}
rule105.priority= 105

# 100) "Series, YYYY ### ..." → Series 0### (YYYY)
rule100.pattern = ^(?P<series>.*?),\s*(?P<year>\d{4})\s+(?P<issue>\d{1,4})(?:\s*\([^)]*\))*(?:\s*(?P<ext>\.\w+))?$
rule100.output  = {series} {issue|digits|pad3} ({year}){ext}
rule100.priority= 100

# 95) "Series YYYY ### ..." (no comma) → Series 0### (YYYY)
rule95.pattern = ^(?P<series>.*?)\s+(?P<year>\d{4})\s+(?P<issue>_?#?\d{1,4})(?:\s*\([^)]*\))?(?P<ext>\.\w+)?$
rule95.output  = {series} {issue|digits|pad3} ({year}){ext}
rule95.priority= 95

# 90) "Series, YYYY-MM-DD (NN) ..." or "(_NN)" → Series 0NN (YYYY)
rule90.pattern = ^(?P<series>.*?),\s*(?P<year>\d{4})-(?:\d{2})(?:-\d{2})?\s*\(\s*(?P<issue>_?#?\d{1,4})\s*\)(?:\s*\([^)]*\))*(?:\s*(?P<ext>\.\w+))?$
rule90.output  = {series} {issue|digits|pad3} ({year}){ext}
rule90.priority= 90

# 85) Series-specific: 2000AD uses 4-digit issues
rule85_2000ad.pattern = ^(?P<series>2000AD)\s*(?P<issue>\d{1,4}).*\((?P<year>\d{4})\)(?:\s*\([^)]*\))*(?:\s*(?P<ext>\.\w+))?$
rule85_2000ad.output  = {series} {issue|pad4} ({year}){ext}
rule85_2000ad.priority= 85

# 80) "Series v# ### (YYYY) ..." → Series v# 0### (YYYY)
rule80.pattern = ^(?P<series>.*?)\s+(?P<volume>v\d{1,3})\s+(?P<issue>\d{1,4}).*\((?P<year>\d{4})\)(?:\s*\([^)]*\))*(?:\s*(?P<ext>\.\w+))?$
rule80.output  = {series} {volume} {issue|pad3} ({year}){ext}
rule80.priority= 80

# 70) "Series #### (YYYY) ..." → Series 0### (YYYY)
rule70.pattern = ^(?P<series>.*?)\s*#(?P<issue>\d{1,4}).*\((?P<year>\d{4})\)(?:\s*\([^)]*\))*(?:\s*(?P<ext>\.\w+))?$
rule70.output  = {series} {issue|pad3} ({year}){ext}
rule70.priority= 70

# 60) "Series ### (YYYY) ..." (no v or #) → Series 0### (YYYY)
rule60.pattern = ^(?P<series>.*?)\s+(?P<issue>\d{1,4}).*\((?P<year>\d{4})\)(?:\s*\([^)]*\))*(?:\s*(?P<ext>\.\w+))?$
rule60.output  = {series} {issue|pad3} ({year}){ext}
rule60.priority= 60

# 50) "YYYYMM Series v# ###.ext" → Series v# 0### (YYYY).ext
rule50.pattern = ^(?P<yearmonth>\d{6})\s+(?P<series>.*?)\s+(?P<volume>v\d{1,3})\s+(?P<issue>\d{1,4})(?P<ext>\.\w+)?$
rule50.output  = {series} {volume} {issue|pad3} ({yearmonth|digits}){ext}
rule50.priority= 50

# 40) "Series (YYYY) #### ..." → Series 0### (YYYY)
rule40.pattern = ^(?P<series>.*?)\s*\((?P<year>\d{4})\)\s*#(?P<issue>\d{1,4}).*(?P<ext>\.\w+)?$
rule40.output  = {series} {issue|pad3} ({year}){ext}
rule40.priority= 40

# 30) "Series YYYY-MM ( NN ) (YYYY) ..." → Series 0NN (YYYY)
rule30.pattern = ^(?P<series>.*?)\s+(?P<year>\d{4})-\d{2}\s*\(\s*(?P<issue>_?\d{1,3})\s*\)\s*\((?:\d{4})\).*(?P<ext>\.\w+)?$
rule30.output  = {series} {issue|digits|pad3} ({year}){ext}
rule30.priority= 30

# 20) "Series YYYY-MM-DD ( NN ) ..." → Series 0NN (YYYY)
rule20.pattern = ^(?P<series>.*?)[,\s]+(?P<year>\d{4})-\d{2}-\d{2}\s*\(\s*(?P<issue>_?\d{1,3})\s*\)(?:\s*\([^)]*\))*\s*(?P<ext>\.\w+)$
rule20.output  = {series} {issue|digits|pad3} ({year}){ext}
rule20.priority= 20
