[RENAME]
# 10 = highest priority (runs first)

# 1) "Series, YYYY-MM-DD (NN) ..." or "( _NN )" → Series 0NN (YYYY)
rule1.pattern = ^(?P<series>.*?),\s*(?P<year>\d{4})-(?:\d{2})(?:-\d{2})?\s*\(\s*(?P<issue>_?#?\d{1,4})\s*\).*(?P<ext>\.\w+)$
rule1.output  = {series} {issue|digits|pad3} ({year}){ext}
rule1.priority= 10

# 2) "Series v# ### (YYYY) ..." → Series v# 0### (YYYY)
rule2.pattern = ^(?P<series>.*?)\s+(?P<volume>v\d{1,3})\s+(?P<issue>\d{1,4}).*\((?P<year>\d{4})\).*(?P<ext>\.\w+)$
rule2.output  = {series} {volume} {issue|pad3} ({year}){ext}
rule2.priority= 20

# 3) "Series #### (YYYY) ..." → Series 0### (YYYY)
rule3.pattern = ^(?P<series>.*?)\s*#(?P<issue>\d{1,4}).*\((?P<year>\d{4})\).*(?P<ext>\.\w+)$
rule3.output  = {series} {issue|pad3} ({year}){ext}
rule3.priority= 30

# 4) "Series ### (YYYY) ..." (no v or #) → Series 0### (YYYY)
rule4.pattern = ^(?P<series>.*?)\s+(?P<issue>\d{1,4}).*\((?P<year>\d{4})\).*(?P<ext>\.\w+)$
rule4.output  = {series} {issue|pad3} ({year}){ext}
rule4.priority= 40

# 5) "YYYYMM Series v# ###.ext" → Series v# 0### (YYYY).ext
rule5.pattern = ^(?P<yearmonth>\d{6})\s+(?P<series>.*?)\s+(?P<volume>v\d{1,3})\s+(?P<issue>\d{1,4})(?P<ext>\.\w+)$
rule5.output  = {series} {volume} {issue|pad3} ({yearmonth|digits}){ext}
rule5.priority= 50

# 6) "Series (YYYY) #### ..." → Series 0### (YYYY)
rule6.pattern = ^(?P<series>.*?)\s*\((?P<year>\d{4})\)\s*#(?P<issue>\d{1,4}).*(?P<ext>\.\w+)$
rule6.output  = {series} {issue|pad3} ({year}){ext}
rule6.priority= 60

# 7) "Series YYYY-MM ( NN ) (YYYY) ..." → Series 0NN (YYYY)
rule7.pattern = ^(?P<series>.*?)\s+(?P<year>\d{4})-\d{2}\s*\(\s*(?P<issue>_?\d{1,3})\s*\)\s*\((?:\d{4})\).*(?P<ext>\.\w+)$
rule7.output  = {series} {issue|digits|pad3} ({year}){ext}
rule7.priority= 70

# 8) "Series YYYY-MM-DD ( NN ) ..." → Series 0NN (YYYY)
rule8.pattern = ^(?P<series>.*?)\s+(?P<year>\d{4})-\d{2}-\d{2}\s*\(\s*(?P<issue>_?\d{1,3})\s*\).*(?P<ext>\.\w+)$
rule8.output  = {series} {issue|digits|pad3} ({year}){ext}
rule8.priority= 80

# 9) Series-specific: 2000AD uses 4-digit issues
rule2000ad.pattern = ^(?P<series>2000AD)\s*(?P<issue>\d{1,4}).*\((?P<year>\d{4})\).*(?P<ext>\.\w+)$
rule2000ad.output  = {series} {issue|pad4} ({year}){ext}
rule2000ad.priority= 15
